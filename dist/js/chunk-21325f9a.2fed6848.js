(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21325f9a"],{"32e9":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"layout-container"},[n("el-aside",{attrs:{width:"auto"}},[n("tabbar-vue",{staticClass:"layout-aside",attrs:{"is-collapse":t.isCollapse}})],1),n("el-container",[n("el-header",{staticClass:"layout-header"},[n("div",{staticClass:"header-container"},[n("span",{staticClass:"header-btn",class:{"el-icon-s-fold":!t.isCollapse,"el-icon-s-unfold":t.isCollapse},on:{click:function(e){t.isCollapse=!t.isCollapse}}}),n("div",{staticClass:"header-title"},[t._v("头条后台管理系统")])]),n("el-dropdown",[n("div",{staticClass:"user"},[n("img",{staticClass:"userImg",attrs:{src:t.profile.photo,alt:""}}),n("span",{staticClass:"user-name el-dropdown-link"},[t._v(" "+t._s(t.profile.name)+" "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{icon:"el-icon-user"},nativeOn:{click:function(e){return t.toMine(e)}}},[t._v("个人设置")]),n("el-dropdown-item",{attrs:{icon:"el-icon-switch-button"},nativeOn:{click:function(e){return t.onLogout(e)}}},[t._v("退出登录")])],1)],1)],1),n("el-main",{staticClass:"layout-main"},[n("router-view")],1)],1)],1)},s=[],i=(n("b0c0"),n("c24f")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.$route.path,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:"",collapse:t.isCollapse}},[n("el-menu-item",{attrs:{index:"/home"}},[n("i",{staticClass:"el-icon-house"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),n("el-menu-item",{attrs:{index:"/content"}},[n("i",{staticClass:"el-icon-tickets"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("内容管理")])]),n("el-menu-item",{attrs:{index:"/material"}},[n("i",{staticClass:"el-icon-reading"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("素材管理")])]),n("el-menu-item",{attrs:{index:"/articles"}},[n("i",{staticClass:"el-icon-reading"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("发布文章")])]),n("el-menu-item",{attrs:{index:"/review"}},[n("i",{staticClass:"el-icon-chat-dot-round"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("评论管理")])]),n("el-menu-item",{attrs:{index:"/fans"}},[n("i",{staticClass:"el-icon-user"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("粉丝管理")])]),n("el-menu-item",{attrs:{index:"/mine"}},[n("i",{staticClass:"el-icon-setting"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("个人设置")])])],1)},l=[],r={name:"tabbar",props:["is-collapse"],data:function(){return{}}},c=r,u=n("2877"),d=Object(u["a"])(c,o,l,!1,null,null,null),f=d.exports,p=n("50f8"),m={name:"Layout",components:{TabbarVue:f},data:function(){return{profile:{},isCollapse:!1}},created:function(){this.loadUserProfile()},methods:{loadUserProfile:function(){var t=this;Object(i["d"])().then((function(e){t.profile=e.data.data})),p["a"].$on("updataUser",(function(e){t.profile.name=e.name,t.profile.photo=e.photo}))},onLogout:function(){var t=this;this.$confirm("是否要退出登录","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){window.localStorage.removeItem("user"),t.$router.push("/login"),t.$message({type:"success",message:"退出登录成功!"})})).catch((function(){t.$message({type:"info",message:"已取消退出"})}))},toMine:function(){this.$router.push("/mine")}}},h=m,v=(n("c53b"),Object(u["a"])(h,a,s,!1,null,"24ee3f40",null));e["default"]=v.exports},"50f8":function(t,e,n){"use strict";var a=n("2b0e");e["a"]=new a["default"]},a8cf:function(t,e,n){},b0c0:function(t,e,n){var a=n("83ab"),s=n("9bf2").f,i=Function.prototype,o=i.toString,l=/^\s*function ([^ (]*)/,r="name";a&&!(r in i)&&s(i,r,{configurable:!0,get:function(){try{return o.call(this).match(l)[1]}catch(t){return""}}})},c24f:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return l}));var a=n("b6d1"),s=function(t){return Object(a["a"])({method:"POST",url:"/mp/v1_0/authorizations",data:t})},i=function(t){return Object(a["a"])({method:"PATCH",url:"/mp/v1_0/user/photo",data:t})},o=function(t){return Object(a["a"])({method:"PATCH",url:"/mp/v1_0/user/profile",data:t})},l=function(){var t=JSON.parse(window.localStorage.getItem("user"));return Object(a["a"])({method:"GET",url:"/mp/v1_0/user/profile",headers:{Authorization:"Bearer ".concat(t.token)}})}},c53b:function(t,e,n){"use strict";var a=n("a8cf"),s=n.n(a);s.a}}]);
//# sourceMappingURL=chunk-21325f9a.2fed6848.js.map